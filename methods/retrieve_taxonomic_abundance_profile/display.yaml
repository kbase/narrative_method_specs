#
# Define basic display information
#
name     : Generate Taxonomic Abundance Data
subtitle : |
    Generate taxonomic annotation abundance data for selected metagenomes.
tooltip  : |
    Generate taxonomic annotation abundance data for selected metagenomes.

screenshots :
    - retrieve_taxonomic_abundance_profile_input.png
    - retrieve_taxonomic_abundance_profile_output.png

icon: icon.png

#
# Define the set of other narrative methods that should be suggested to the user.
#
suggestions :
    apps:
        related :
            []
        next :
            []
    methods:
        related :
            []
        next :
            [normalize_abundance_profile, view_abundance_profile_rank_plot]


#
# Configure the display and description of the parameters
#
parameters :
    input_metagenomes :
        ui-name : |
            Metagenome(s)
        short-hint : |
            Metagenome(s) used for generating taxonomic abundance data
        long-hint  : |
            Metagenome(s) used for generating taxonomic abundance data


    output_profile :
        ui-name : |
            Profile or Matrix
        short-hint : |
            Profile for taxonomy or a matrix for multiple metagenomes; the table rows contain functions or taxa and the columns contain metagenome IDs
        long-hint  : |
            Profile for taxonomy or a matrix for multiple metagenomes; the table rows contain functions or taxa and the columns contain metagenome IDs


    level :
        ui-name : |
            Taxonomic Level
        short-hint : |
            Annotation hierarchical level to generate abundances: default is genus, alternatives are strain, species, family, order, class, phylum, domain
        long-hint  : |
            Annotation hierarchical level to generate abundances: default is genus, alternatives are strain, species, family, order, class, phylum, domain


    source :
        ui-name : |
            Source Name
        short-hint : |
            Data source for annotation: default is SEED (for WGS), alternatives are <br>WGS: RefSeq, GenBank, IMG, TrEMBL, SwissProt, PATRIC, KEGG, M5NR. <br>Amplicon: RDP, Greengenes, LSU, SSU, M5RNA
        long-hint  : |
            <p>Data source for annotation: default is SEED (for WGS), alternatives are <br><b>WGS</b>: RefSeq, GenBank, IMG, TrEMBL, SwissProt, PATRIC, KEGG, M5NR. <br><b>Amplicon</b>: RDP, Greengenes, LSU, SSU, M5RNA</p>


    evalue :
        ui-name : |
            E-Value
        short-hint : |
            Negative log10 value for the upper E-value cutoff; default is 5, alternative is any other integer
        long-hint  : |
            Negative log10 value for the upper E-value cutoff; default is 5, alternative is any other integer


    identity :
        ui-name : |
            Percent Identity
        short-hint : |
            Percent value for minimum % identity cutoff: default is 60%, alternative is any integer between 1-100
        long-hint  : |
            Percent value for minimum % identity cutoff: default is 60%, alternative is any integer between 1-100


    length :
        ui-name : |
            Alignment Length
        short-hint : |
            Value for minimum alignment length cutoff: default is 15bp, alternative is any other integer 
        long-hint  : |
            Value for minimum alignment length cutoff: default is 15bp, alternative is any other integer 
            

description : |
    <p>This method generates an abundance profile or matrix of abundance profiles for a single metagenome profile by entering a metagenome ID or a metagenome set. It projects abundance data onto data sources, which allows the user to compare metagenomes using Principal coordinates analysis (PCoA) or heatmaps for a selected data source. Users input a metagenome set for whole-genome shotgun (WGS) or amplicon datasets. E-value, percent identity, and alignment length values can be used to filter the annotation abundance data to the desired level of stringency. Users can review the distribution of the data using a boxplot and see if normalization is needed to resolve differences in the distribution of values among the selected profiles.</p>
    
    <p>After generating these abundances, it is good practice to view the boxplots (use the <a data-method-id=Òview_abundance_profile_boxplotsÓ>Generate Boxplots for Abundance Data</a> method) of raw and normalized data to determine if normalization is necessary prior to comparative analyses. Datasets that exhibit similar distributions across all samples are comparable (as raw or normalized values); those that exhibit a variety of distributions are not suitable for direct comparison and may require normalization and/or additional processing to remove bias that could adversely affect downstream comparisons.</p>
    
    <p>The abundances generated with this method can be used as input for all other microbial communities methods such as <a data-method-id=Òheatmap_from_abundance_profileÓ>Generate Heatmap from Abundance Data</a>, <a data-method-id=Òpcoa_from_abundance_profileÓ>Generate PCoA Data from Abundance Data</a>, <a data-method-id=Òview_abundance_profile_rank_plotÓ>Generate Rank Abundance Plot</a>, and <a data-method-id=Òview_abundance_profile_boxplotsÓ>Generate Boxplots for Abundance Data</a>.</p>
    
    <p><a href="http://kbase.us/generate-taxonomic-abundance-data-method/" target="_blank">Tutorial for Generate Taxonomic Abundance Data Method</a></p>
    
    <p><strong>Team members who developed & deployed algorithm in KBase:</strong>
    Jared Bischof, Travis Harrison, Folker Meyer, Tobias Paczian, Andreas Wilke. For questions, <a href="mailto:help@kbase.us">e-mail help@kbase.us</a></p>

    
publications :
    -

        display-text: |
            Benson DA, Cavanaugh M, Clark K (2013) Genbank. Nucleic Acids Res 41(Database issue):D36Ð42
        link: http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3531190/

    -
        display-text: |
            Overbeek R, Begley T, Butler RM et al (2005) The subsystems approach to genome annotation and its use in the project to annotate 1000 genomes. Nucleic Acids Res 33(17): 5691Ð5702
        link: http://www.ncbi.nlm.nih.gov/pmc/articles/PMC1251668/

    -
        display-text: |
            Pruesse E, Quast C, Knittel K et al (2007) SILVA: a comprehensive online resource for quality checked and aligned ribosomal RNA sequence data compatible with ARB. Nucleic acids research 35(21):7188Ð7196
        link: http://www.ncbi.nlm.nih.gov/pmc/articles/PMC2175337/

    -
        pmid: #######
        display-text: |
            DeSantis TZ, Hugenholtz P, Larsen N et al (2006) Greengenes, a Chimera-Checked 16S rRNA gene database and workbench compatible with ARB. Appl Environ Microbiol 72(7):5069Ð5072
        link: http://www.ncbi.nlm.nih.gov/pmc/articles/PMC1489311/
        
    -
        pmid: #######
        display-text: |
            Cole JR, Chai B, Marsh TL et al (2003) The ribosomal database project (RDP-II): previewing a new autoaligner that allows regular updates and the new prokaryotic taxonomy. Nucleic Acids Res 31(1):442Ð443
        link: http://www.ncbi.nlm.nih.gov/pmc/articles/PMC165486/       

